<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>macOS Monterey 网页版</title>
    <meta name="description" content="macOS Monterey 网页版模拟，提供Dock栏、Finder、Launchpad、控制中心等macOS核心功能">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/desktop.css">
    <link rel="stylesheet" href="css/dock.css">
    <link rel="stylesheet" href="css/menubar.css">
    <link rel="stylesheet" href="css/window.css">
    <link rel="stylesheet" href="css/buttons.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/dialog.css">
    <link rel="stylesheet" href="css/control-center.css">
    <link rel="stylesheet" href="css/animations.css">
    <link rel="stylesheet" href="apps/style/finder.css">
    <link rel="stylesheet" href="apps/style/launchpad.css">
    <link rel="stylesheet" href="apps/style/settings.css">
    <link rel="stylesheet" href="apps/style/safari.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link rel="icon" href="icons/apple-logo.png" type="image/png">
    <link rel="apple-touch-icon" href="icons/apple-touch-icon.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="manifest" href="manifest.json">
</head>
<body>
    <!-- 菜单栏 -->
    <div id="menubar">
        <div class="menubar-left">
            <div class="menubar-item apple-menu" id="apple-menu-button">
                <i class="fab fa-apple"></i>
            </div>
            <div class="menubar-item app-menu" id="app-name">Finder</div>
            <div class="menubar-item">文件</div>
            <div class="menubar-item">编辑</div>
            <div class="menubar-item">显示</div>
            <div class="menubar-item">前往</div>
            <div class="menubar-item">窗口</div>
            <div class="menubar-item">帮助</div>
        </div>
        <div class="menubar-right">
            <div class="menubar-item" id="menubar-battery-icon">
                <i class="fas fa-battery-three-quarters"></i>
            </div>
            <div class="menubar-item" id="menubar-wifi-icon">
                <i class="fas fa-wifi"></i>
            </div>
            <div class="menubar-item" id="menubar-bluetooth-icon" class="disabled">
                <i class="fab fa-bluetooth-b"></i>
            </div>
            <div class="menubar-item" id="menubar-search-icon">
                <i class="fas fa-search"></i>
            </div>
            <div class="menubar-item" id="control-center-button">
                <i class="fas fa-sliders-h"></i>
            </div>
            <div class="menubar-item" id="menubar-time">
                周三 4月16日 07:37
            </div>
        </div>
    </div>

    <!-- 桌面 -->
    <div id="desktop"></div>

    <!-- Dock栏 -->
    <div id="dock">
        <div class="dock-container">
            <div class="dock-item" data-app="finder">
                <i class="fas fa-folder fa-2x"></i>
                <div class="dock-tooltip">访达</div>
            </div>
            <div class="dock-item" data-app="launchpad">
                <i class="fas fa-rocket fa-2x"></i>
                <div class="dock-tooltip">启动台</div>
            </div>
            <div class="dock-item" data-app="safari">
                <i class="fas fa-compass fa-2x"></i>
                <div class="dock-tooltip">Safari</div>
            </div>
            <div class="dock-item" data-app="mail">
                <i class="fas fa-envelope fa-2x"></i>
                <div class="dock-tooltip">邮件</div>
            </div>
            <div class="dock-item" data-app="messages">
                <i class="fas fa-comment fa-2x"></i>
                <div class="dock-tooltip">信息</div>
            </div>
            <div class="dock-item" data-app="maps">
                <i class="fas fa-map-marked-alt fa-2x"></i>
                <div class="dock-tooltip">地图</div>
            </div>
            <div class="dock-item" data-app="photos">
                <i class="fas fa-images fa-2x"></i>
                <div class="dock-tooltip">照片</div>
            </div>
            <div class="dock-item" data-app="facetime">
                <i class="fas fa-video fa-2x"></i>
                <div class="dock-tooltip">FaceTime</div>
            </div>
            <div class="dock-item" data-app="calendar">
                <i class="fas fa-calendar-alt fa-2x"></i>
                <div class="dock-tooltip">日历</div>
            </div>
            <div class="dock-item" data-app="contacts">
                <i class="fas fa-address-book fa-2x"></i>
                <div class="dock-tooltip">通讯录</div>
            </div>
            <div class="dock-item" data-app="notes">
                <i class="fas fa-sticky-note fa-2x"></i>
                <div class="dock-tooltip">备忘录</div>
            </div>
            <div class="dock-separator"></div>
            <div class="dock-item" data-app="settings">
                <i class="fas fa-cog fa-2x"></i>
                <div class="dock-tooltip">系统偏好设置</div>
            </div>
            <div class="dock-item" data-app="trash">
                <i class="fas fa-trash fa-2x"></i>
                <div class="dock-tooltip">废纸篓</div>
            </div>
        </div>
    </div>

    <!-- 启动台 -->
    <div id="launchpad" class="hidden">
        <div class="launchpad-search">
            <input type="text" placeholder="搜索">
        </div>
        <div class="launchpad-grid">
            <!-- 应用图标将通过JavaScript动态添加 -->
        </div>
        <div class="launchpad-dots">
            <div class="launchpad-dot active"></div>
            <div class="launchpad-dot"></div>
            <div class="launchpad-dot"></div>
        </div>
    </div>

    <!-- 亮度调整覆盖层 -->
    <div id="brightness-overlay" class="brightness-overlay"></div>

    <!-- JavaScript文件 -->
    <script src="js/main.js"></script>
    <script src="js/window.js"></script>
    <script src="js/dock.js"></script>
    <script src="js/menubar.js"></script>
    <script src="js/control-center.js"></script>
    <script src="js/animations.js"></script>
    <script src="js/system.js"></script>
    <script src="apps/finder.js"></script>
    <script src="apps/launchpad.js"></script>
    <script src="apps/settings.js"></script>
    <script src="apps/safari.js"></script>
    
    <!-- 服务工作线程注册 -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('ServiceWorker 注册成功: ', registration.scope);
                    })
                    .catch(error => {
                        console.log('ServiceWorker 注册失败: ', error);
                    });
            });
        }
    </script>
</body>
</html>
